<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="main.js">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhILjC3hPvzV7miPqKYFndcV5qzYZYLoM&libraries=places"
    onload="inicializarMapa()"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout Ultra</title>
    <link rel="stylesheet" href="css/payment.css">
    <link rel="stylesheet" href="out.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap.min.css.map">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,600;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@0,700;1,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <script type="text/javascript" src="whatsapp/main.js" ></script>
    <link rel="stylesheet" href="whatsapp/dist/css/all.css" type='text/css'>
    <link href='whatsapp/dist/css/animate.min.css' rel='stylesheet' type='text/css'/>
    <link href="whatsapp/whatsapp.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,900&display=swap" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@2.3.2/dist/signature_pad.min.js"></script>
    <style>

    @media (min-width: 768px)and(max-width: 991px) {
    .text{
        position: relative;
        font-size: 11px;
    }
   }

    </style>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Estilos -->
    <link rel="stylesheet" href="out.css">

</head>
<body>    
        <div class="logo-container">
            <a href="/">
                <img class="image-icon" src="Logo-intercom.png" alt="none">
            </a>
        </div>

  <div class="content">
    <div class="container">
      <div class="row align-items-stretch no-gutters contact-wrap">
        <div class="col-md-8">
          <div class="form h-100">
              <h3 class="title-check" >SERVICIO DE ASISTENCIA PREMIUM</h3>
              <div style="text-align: center; display: flex; justify-content: center;" class="price-container" >
                <h1 style="font-weight: 800; color: #2ecc71; font-size: 70px; text-shadow: 1px 1px 1px #000;" >124</h1><span>.99</span>
              </div>
              <div style="background-color: #262D56; height:2px; width: 100%;" ></div>

            <div class="features-cont" >
              <ul class="features">
                <li>6 Meses de Servicio y Asistencia</li>
                <li>Reduccion en la tarifa de bills en servicios hogar</li>
                <li>Proteccion y notificacion ante aumento de bills</li>
                <li>Asistencia financiera personal y empresarial</li>
                <li>Asistencia en desperfectos del hogar, servicios varios</li>
                <li>Asesoria legal personal</li>
                <li>Mayor velocidad de descarga optima</li>
                <li>Pago Único</li>
                <li>Soporte 24/7</li>
              </ul>
            </div>

            <form style="margin-left: -23px;" method="post" action="charge.php">

              <div class="row">

                <div class="col">
      
                  <h3 class="title">Informacion de Pago</h3>
  
                  <div class="inputBox">
                      <span>Tarjetas Aceptadas: </span>
                      <img src="card_img.png" alt="">
                  </div>
                  <div class="inputBox">
                      <span>Nombre del Titular:</span>
                      <input id="nombre" type="text" name="name" placeholder="mr. john deo" required>
                  </div>
                  <div class="inputBox">
                      <span>Numero de Tarjeta: </span>
                      <input type="text" name="card_number" placeholder="1111-2222-3333-4444" maxlength="18" required>
                  </div>
                  <div class="inputBox flex" >
                      <span>exp mes: </span>
                      <select name="card_exp_month" required>
                        <option value="01">01</option>
                        <option value="02">02</option>
                        <option value="03">03</option>
                        <option value="04">04</option>
                        <option value="05">05</option>
                        <option value="06">06</option>
                        <option value="07">07</option>
                        <option value="08">08</option>
                        <option value="09">09</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                      </select>

                      <span>exp año: </span>
                      <select name="card_exp_year" id="card_exp_year" required>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option value="29">29</option>
                        <option value="30">30</option>
                        <option value="31">31</option>
                        <option value="32">32</option>
                        <option value="33">33</option>
                      </select>
                  </div>
  
                  <div class="flex">
                      <div class="inputBox">
                          <span>CVV: </span>
                          <input name="card_cvc" type="text" id="cvv" maxlength="4" placeholder="CVV" required>
                      </div>
                  </div>
  
              </div>
                  <div class="col">
                      <h3 class="title">Direccion de Facturacion.</h3>
      
                      <div class="inputBox">
                          <span>Nombre Completo: </span>
                          <input type="text" id="completename" name="name" placeholder="john deo" maxlength="40" required>
                      </div>
                      <div class="inputBox">
                          <span>Email: </span>
                          <input type="email" id="email" placeholder="example@example.com" name="email" required>
                      </div>
                      <div class="inputBox">
                        <span>Direccion de Facturación: </span>
                        <input id="address" class="address" type="text" placeholder="Us 11, 10080, New York" name="address" required>
                        <div id="suggestions"></div>
                      </div>
                      <div class="inputBox">
                        <span>Telefono: </span>
                        <input id="tel" type="tel" name="tel" required>
                      </div>
                      <div class="inputBox">
                        <input type="checkbox" id="terms-checkbox">
                        <label for="terms-checkbox">Acepto los Términos y Condiciones</label>
                      </div>
                  </div>
              </div>

              <div class="term-and-conditions" id="terms-and-conditions" style="display: none;" >
                <h3>Términos y Condiciones</h3>
                <p>Nos comprometemos a brindar un servicio de alta calidad a todos nuestros clientes.</p>
                <p>Web Help Support se esfuerza por brindar asesoramiento de servicios al hogar de manera confiable y efectiva. La política de reembolso es un aspecto integral de nuestro compromiso con la satisfacción del cliente.</p>
                <h3>Politica de Reembolso</h3>
                <p>Antes de solicitar un reembolso, el cliente debe contactar a nuestro equipo de soporte y enviar una solicitud por escrito dentro de los 7 días hábiles siguientes a la fecha de pago. Nuestro equipo investigará la solicitud y, si se determina que el servicio no cumplió con nuestras políticas y estándares, se procesará el reembolso correspondiente.</p>
                <p>Para que un servicio sea elegible para un reembolso, el cliente debe haber firmado el acuerdo de garantía y haber aceptado nuestras políticas de reembolso y entrega de servicios antes de realizar el pago.</p>

                <div class="signature-container"  id="signature-container" style="display: none;">
                  <h3>Firma</h3>
                  <p>Por favor firma en el siguiente campo para verificar que aceptas los términos y condiciones:</p>
                  <br>
                  <canvas id="signature-pad" ></canvas>
                  <br>

                  <div class="sign-buttons-container">
                    <button id="clear-btn" >Borrar</button>
                    <button id="submit-btn" >Guardar y proceder al pago</button>
                  </div>
                </div>

                <div class="inputBox">
                  <input type="radio" id="agree" value="agree" name="terms-radio">
                  <label for="agree">Aceptar</label>
                </div>

                <div class="inputBox">
                  <input type="radio" id="disagree" value="disagree" name="terms-radio">
                  <label for="agree">Salir</label>
                </div>
              </div>

      
             <button type="submit" id="pay-button" class="submit-btn" disabled>Pagar Ahora</button>
      
          </form>
          
          </div>
        </div>
        <div class="col-md-4">
          <div class="contact-info h-100">
            <h3>CONTACTANOS, SERA UN GUSTO ATENDERTE!</h3>
            <p class="mb-5">
              Nuestro equipo estara en toda la dispocision de ayudarte y solventar tus dudas!
            </p>
            <ul class="list-unstyled">
              <li class="d-flex">
                <i class="bi bi-telephone-fill"></i>
                <span class="text" style="font-size: 12px; margin-left: 5px; " >+1 (813) 291-3383</span>
              </li>
              <li class="d-flex">
                <i class="bi bi-envelope"></i>
                <span class="text" style="font-size: 12px; margin-left: 5px;" >contact@multiservicecall.com</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <section>    
    <div id="whatsapp-chat" class="hide">
        <div class="header-chat">
            <div class="head-home">
                <h3 style="color: #fff; font-weight: bold;" >!Hola!</h3>
                <p>Seleccione una opcion para ayudarle mejor o envíenos un mail a contact@multiservicecall.com</p>
            </div>
            <div class="get-new hide">
                <div id="get-label"></div>
                <div id="get-nama"></div>
            </div>
        </div>
        <div class="home-chat">
            <!-- Info Contact Start -->
            <a class="informasi" href="javascript:void" title="Chat Whatsapp">
                <div class="info-avatar"><img src="whatsapp/dist/img/male.svg" /></div>
                <div class="info-chat">
                    <span class="chat-label">Soporte de Servicios</span>
                    <span class="chat-nama">Soporte 24/7 incluido en tu servicio</span>
                </div>
                <span class="my-number">17863058376</span>
            </a>
            <!-- Info Contact End -->
            <!-- Info Contact Start -->
            <a class="informasi" href="javascript:void" title="Chat Whatsapp">
                <div class="info-avatar"><img src="whatsapp/dist/img/female.svg" /></div>
                <div class="info-chat">
                    <span class="chat-label">Reportes e Inconvenientes</span>
                    <span class="chat-nama">Reporte Inconvenientes y cualquier problema con nuestro servicio</span>
                </div>
                <span class="my-number">17863058376</span>
            </a>
            <!-- Info Contact End -->
            <div class="hensob-msg">Contactenos al <b>+1(813)291-3383</b> de <i>7:00am a 10:00pm</i></div>
        </div>
        <div class="start-chat hide">
            <div class="first-msg"><span>Hola!👋 ¿Como puedo ayudarte el dia de hoy?</span></div>
            <div class="hensob-msg"><textarea id="chat-input" placeholder="Escribe tu mensaje" row="1"></textarea> <a href="javascript:void;" style="font-size: 14px; width: 100px;" id="send-it">enviar</a></div>
        </div>
        <div id="get-number"></div>
        <a class="close-chat" href="javascript:void">×</a>
    </div>
    <a class="hensobshow-chat" href="javascript:void" title="Show Chat"><i class="fab fa-whatsapp fa-lg"></i></a>

  </section>
  
  <script>
    var name = document.getElementById('completename').value;
var phone = document.getElementById('tel').value;
var address = document.getElementById('address').value;

const submitBtn = document.getElementById('pay-btn');

document.getElementById('terms-checkbox').addEventListener('change', function () {
  document.getElementById('terms-and-conditions').style.display = this.checked ? 'block':'none';
});

document.querySelectorAll('[name="terms-radio"]').forEach(function (radio) {
  radio.addEventListener('change', function () {
    if (this.value === 'agree') {
      document.getElementById('signature-container').style.display = 'block';
    } else {
      document.getElementById('signature-container').style.display = 'none';
      submitBtn.disabled = true;
    }
  });
});

var signaturePad = new SignaturePad(document.getElementById('signature-pad'));

document.getElementById('clear-btn').addEventListener('click', function () {
  event.preventDefault();
  signaturePad.clear();
});

signed = false;

document.getElementById('submit-btn').addEventListener('click', function () {
  
  event.preventDefault();

  if (signaturePad.isEmpty()) {
    alert('Por favor firma antes de hacer el pago');
    submitBtn.disabled = false;
    return;
  } else {
    signed = true;
    submitBtn.disabled = false;
    submitForm();
  }

  var signatureData = signaturePad.toDataURL('image/png');

  if(signed){
    submitForm();
    fetch('sign.php', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        signature: signatureData,
        name: name,
        phone: phone,
        address: address,
      })
    })
    .then(response => response.json())
    .then(data => {
      if(data.success) {
        document.getElementById('submit-btn').disabled = false;
      } else {
        console.log('sucedio un error con la firma y el pago ');
      }
    })
    .catch(error => {
      console.log('Error al guardar firma:', error);
    });
  }
});
  </script>

  <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
  <script src="whatsapp/main.js"></script>
  <script src="main.js" ></script>
</body>
</html>